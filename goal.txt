âš™ï¸ Level 1 â€” Fully Independent Foundations
These have no internal dependencies. Everything else can use them.

ğŸ”¹ EnvLoader
Manages .env parsing and global environment variable caching.
Depends on: os, PathUtil

ğŸ”¹ PathUtil
Normalizes paths, ensures directories and files exist.
Depends on: pathlib, os

ğŸ”§ Level 2 â€” Light Utility Wrappers
Utilities that extend core Python features using Level 1 tools.

ğŸ”¹ ErrorHandling
Provides attempt(), recall(), timer(), and check_input().
Depends on: print, time, optionally Logger

ğŸ”¹ FileIO
Reads/writes TOML, JSON, ENV, YAML, TXT.
Depends on: PathUtil, optionally EnvLoader

ğŸ”¹ InputValidator (new)
Centralized input and argument type checking.
Depends on: ErrorHandling

ğŸ§© Level 3 â€” Mid-Level Coordinators
These coordinate multiple utilities and abstract them into workflows.

ğŸ”¹ Config
Loads and writes structured config from disk.
Depends on: FileIO, PathUtil, EnvLoader, ErrorHandling

ğŸ”¹ Decorators (e.g. @mileslib)
Wraps functions with logging, retry, env, timing, and safe fail.
Depends on: ErrorHandling, EnvLoader, optionally Logger

ğŸ” Level 4 â€” Secrets, Caching, and Metadata
These modules build on configs, environments, and logging.

ğŸ”¹ Secrets
Retrieves secrets from Azure Key Vault or env.
Depends on: EnvLoader, Config, ErrorHandling

ğŸ”§ Level 5 â€” Operational Backends
Interacts with live systems, services, or APIs.

ğŸ”¹ Dependencies
Handles on-demand pip installs and module loading.
Depends on: ErrorHandling, subprocess, try_import

ğŸ”¹ Logger
Loguru-based file logger with setup and reset hooks.
Depends on: PathUtil, optionally EnvLoader, Config

ğŸ”¹ Requests
HTTP GET/POST with retries and logging.
Depends on: Dependencies, ErrorHandling

ğŸ—ï¸ Level 6 â€” External System Integrators
Modules that connect MilesLib to 3rd-party services and platforms.

ğŸ”¹ AzureAD
Azure App Registration, MSAL tokens, tenant login URLs.
Depends on: Secrets, Requests, EnvLoader, Config

ğŸ”¹ PostgresManager
Creates PostgreSQL DBs, users, grants roles.
Depends on: EnvLoader, Config, psycopg2 or asyncpg

ğŸ”¹ KeyVaultManager
Manages Azure Key Vault secrets.
Depends on: Secrets, EnvLoader, Config

ğŸ”¹ TemplateRenderer
Jinja2-based scaffolding and file patching.
Depends on: PathUtil, FileIO, jinja2

ğŸ”¹ GitManager
Git init, commit, remote add for project scaffolds.
Depends on: subprocess, PathUtil, EnvLoader

ğŸš€ Level 7 â€” Top-Level Orchestrators
ğŸ”¹ Directory
Initializes project root, bootstraps config files, manages global state.
Depends on: Config, EnvLoader, FileIO, PathUtil, Logger

ğŸ”¹ CLIRegistry
Command group for Click-based CLI interface.
Depends on: click, PathUtil, Logger